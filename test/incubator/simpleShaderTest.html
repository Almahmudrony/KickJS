<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>

    <script type="text/javascript" src="../../src/js/core.js"></script>
    <script type="text/javascript" src="../../src/js/math.js"></script>
    <script type="text/javascript" src="../../src/js/scene.js"></script>
    <script type="text/javascript" src="../../src/js/renderer.js"></script>
    <script type="text/javascript" src="../../src/js/shader.js"></script>
    <script type="text/javascript">
        var engine;

        var log = function (output) {
            var element = document.getElementById("output");
            element.innerHTML = element.innerHTML+output+"<br>";
        };

        function runTest() {
            var element = document.getElementById("output");
            element.innerHTML = "";
            var time = engine.time;
            var gameObject = engine.activeScene.createGameObject();
            var vs = document.getElementById('vertexShader').value;
            var fs = document.getElementById('fragmentShader').value;
            var shader = new KICK.material.Shader(engine);
            shader.initShader(vs,fs);
            log("Shader compiled ok");
            log("attachedShaders: "+JSON.stringify(shader.attachedShaders) );
            log("activeUniforms: "+JSON.stringify(shader.activeUniforms));
            log("activeAttributes: "+JSON.stringify(shader.activeAttributes));
        }

        function initKick() {
            engine = new KICK.core.Engine('canvas');
            var gameEngine = engine.activeScene.createGameObject();
            var camera = new KICK.scene.Camera({
                clearColor: [0.5,1,1,1],
                cameraTypePerspective: false,
                far:1,
                near:-1,
                left:-1,
                right:1
            });
            gameEngine.addComponent(camera);
        }
    </script>
</head>
<body onload="initKick();">
<table><tr><td>
VertexShader<br>
  <textarea style="width:500px;height:150px;" id="vertexShader">
attribute vec3 vertex;

void main(void) {
    gl_Position = vec4(vertex, 1.0);
}
  </textarea><br>
</td><td>
FragmentShader<br>
  <textarea style="width:500px;height:150px;" id="fragmentShader">
#ifdef GL_ES
precision highp float;
#endif
void main(void)
{
    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
}
  </textarea>
</td></tr></table>
  <canvas id="canvas" style="border: none;" width="300" height="300"></canvas> <br>
  This simple test evaluates how component events are invoked during the lifetime of an object.<br>

  <a href="#" onclick="runTest();">Run test</a>
  <h2>Output</h2>
  <div id="output">
  </div>
  <br/>
</body>
</html>