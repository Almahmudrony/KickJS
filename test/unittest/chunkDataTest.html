<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Maven+Pro:400,700">

            <link rel="stylesheet" href="http://yui.yahooapis.com/3.4.1/build/cssgrids/grids-min.css">

            <link rel="stylesheet" href="/combo/css?main-min.css">

        <link rel="stylesheet" href="/vendor/prettify/prettify-min.css">
        <link rel="stylesheet" href="/css/docs-min.css">
<script src="../../src/js/constants.js"></script>
<script src="../../src/js/math.js"></script>
<script src="../../src/js/core.js"></script>
<script src="../../src/js/chunk.js"></script>
<script src="http://yui.yahooapis.com/3.4.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">
<style scoped>
    #testLogger {
        margin-bottom: 1em;
    }

    #testLogger .yui3-console .yui3-console-title {
        border: 0 none;
        color: #000;
        font-size: 13px;
        font-weight: bold;
        margin: 0;
        text-transform: none;
    }
    #testLogger .yui3-console .yui3-console-entry-meta {
        margin: 0;
    }

    .yui3-skin-sam .yui3-console-entry-pass .yui3-console-entry-cat {
        background: #070;
        color: #fff;
    }
    </style>

    <div id="testLogger"></div>

<script>
YUI().use('node', 'console', 'test', function (Y) {

    Y.namespace("KICK.core");

    Y.KICK.core.ChunkDataTest = new Y.Test.Case({

        //name of the test case - if not provided, one is auto-generated
        name : "vec3test",

        //---------------------------------------------------------------------
        // setUp and tearDown methods - optional
        //---------------------------------------------------------------------

        /*
         * Sets up data that is needed by each test.
         */
        setUp : function () {
        },

        /*
         * Cleans up everything that was created by setUp().
         */
        tearDown : function () {
        },

        //---------------------------------------------------------------------
        // Test methods - names must begin with "test"
        //---------------------------------------------------------------------

        testCreateOneChunk : function () {
            var Assert = Y.Assert;
            var chunkData = new KICK.core.ChunkData();
            var uint8Array = new Uint8Array([1,2,3]);
            var float32Array = new Float32Array([1.5,2.5,3.5]);
            chunkData.set(1,uint8Array);
            chunkData.set(2,float32Array);
            var serialized = chunkData.serialize();
            var chunkData2 = new KICK.core.ChunkData();
            chunkData2.deserialize(serialized);
            var uint8Array2 = chunkData2.get(1);
            Assert.isTrue(uint8Array.length == uint8Array2.length);
            for (var i=0;i<uint8Array2.length;i++){
                Assert.isTrue(uint8Array[i].length === uint8Array2[i].length);
            }
            var float32Array2 = chunkData2.get(2);
            Assert.isTrue(float32Array.length == float32Array2.length);
            for (var i=0;i<float32Array.length;i++){
                Assert.isTrue(float32Array[i].length === float32Array2[i].length);
            }
        },
        testUTF8String : function () {
            var Assert = Y.Assert;
            var chunkData = new KICK.core.ChunkData();

            chunkData.setString(1,"Hello world");
            var res = chunkData.getString(1);
            console.log("Converted string is :'"+res+"'");
            Assert.isTrue("Hello world" === res);
        }
    });

    var ExampleSuite = new Y.Test.Suite("ChunkData test");
    ExampleSuite.add(Y.KICK.core.ChunkDataTest);

    //create the console
    var r = new Y.Console({
        newestOnTop : false,
        style: 'block', // to anchor in the example content,
        width: 600,
        height: 600
    });

    r.render('#testLogger');

    Y.Test.Runner.add(ExampleSuite);

    //run the tests
    Y.Test.Runner.run();

});
</script>
</div>

</body>
</html>
